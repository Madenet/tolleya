{% extends 'sports/base.html' %}

{% block title %}{{ league.name }} - Sports Hub{% endblock %}

{% block content %}
    <section class="league-header">
        <h1>{{ league.name }}</h1>
        <p>Level: {{ league.get_level_display }}</p>
        {% if league.country %}<p>Country: {{ league.country }}</p>{% endif %}
        {% if league.founded %}<p>Founded: {{ league.founded }}</p>{% endif %}
    </section>
    
    <section class="league-standings">
        <h2>Standings</h2>
        <table>
            <thead>
                <tr>
                    <th>Pos</th>
                    <th>Team</th>
                    <th>P</th>
                    <th>W</th>
                    <th>D</th>
                    <th>L</th>
                    <th>GF</th>
                    <th>GA</th>
                    <th>GD</th>
                    <th>Pts</th>
                </tr>
            </thead>
            <tbody>
                {% for standing in standings %}
                    <tr>
                        <td>{{ standing.position }}</td>
                        <td><a href="{% url 'team_detail' standing.team.slug %}">{{ standing.team.name }}</a></td>
                        <td>{{ standing.played }}</td>
                        <td>{{ standing.won }}</td>
                        <td>{{ standing.drawn }}</td>
                        <td>{{ standing.lost }}</td>
                        <td>{{ standing.goals_for }}</td>
                        <td>{{ standing.goals_against }}</td>
                        <td>{{ standing.goal_difference }}</td>
                        <td>{{ standing.points }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
    
    <section class="upcoming-matches">
        <h2>Upcoming Matches</h2>
        <ul>
            {% for match in upcoming_matches %}
                <li>
                    <a href="{% url 'match_detail' match.pk %}">
                        {{ match.home_team.name }} vs {{ match.away_team.name }}
                        ({{ match.match_date|date:"M j, H:i" }})
                    </a>
                </li>
            {% endfor %}
        </ul>
    </section>
    
    <section class="recent-matches">
        <h2>Recent Results</h2>
        <ul>
            {% for match in recent_matches %}
                <li>
                    <a href="{% url 'match_detail' match.pk %}">
                        {{ match.home_team.name }} {{ match.home_score }} - {{ match.away_score }} {{ match.away_team.name }}
                        ({{ match.match_date|date:"M j" }})
                    </a>
                </li>
            {% endfor %}
        </ul>
    </section>
    
    <section class="league-news">
        <h2>League News</h2>
        <div class="news-grid">
            {% for news in news %}
                <article class="news-card">
                    <h3><a href="{% url 'news_detail' news.slug %}">{{ news.title }}</a></h3>
                    <p>{{ news.content|truncatewords:20 }}</p>
                    <small>{{ news.published_date|date:"F j, Y" }}</small>
                </article>
            {% endfor %}
        </div>
    </section>
{% endblock %}